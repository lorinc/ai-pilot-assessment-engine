/home/lorinc/CascadeProjects/ai-pilot-assessment-engine/venv/lib/python3.12/site-packages/google/cloud/aiplatform/models.py:52: FutureWarning: Support for google-cloud-storage < 3.0.0 will be removed in a future version of google-cloud-aiplatform. Please upgrade to google-cloud-storage >= 3.0.0.
  from google.cloud.aiplatform.utils import gcs_utils
/home/lorinc/CascadeProjects/ai-pilot-assessment-engine/venv/lib/python3.12/site-packages/vertexai/generative_models/_generative_models.py:433: UserWarning: This feature is deprecated as of June 24, 2025 and will be removed on June 24, 2026. For details, see https://cloud.google.com/vertex-ai/generative-ai/docs/deprecations/genai-vertexai-sdk.
  warning_logs.show_deprecation_warning()
/home/lorinc/CascadeProjects/ai-pilot-assessment-engine/venv/lib/python3.12/site-packages/vertexai/_model_garden/_model_garden_models.py:278: UserWarning: This feature is deprecated as of June 24, 2025 and will be removed on June 24, 2026. For details, see https://cloud.google.com/vertex-ai/generative-ai/docs/deprecations/genai-vertexai-sdk.
  warning_logs.show_deprecation_warning()
/home/lorinc/CascadeProjects/ai-pilot-assessment-engine/venv/lib/python3.12/site-packages/vertexai/generative_models/_generative_models.py:433: UserWarning: This feature is deprecated as of June 24, 2025 and will be removed on June 24, 2026. For details, see https://cloud.google.com/vertex-ai/generative-ai/docs/deprecations/genai-vertexai-sdk.
  warning_logs.show_deprecation_warning()
/home/lorinc/CascadeProjects/ai-pilot-assessment-engine/venv/lib/python3.12/site-packages/vertexai/_model_garden/_model_garden_models.py:278: UserWarning: This feature is deprecated as of June 24, 2025 and will be removed on June 24, 2026. For details, see https://cloud.google.com/vertex-ai/generative-ai/docs/deprecations/genai-vertexai-sdk.
  warning_logs.show_deprecation_warning()

ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯
  UAT DEMO: Intent Detection - Day 11-12 (Release 2.2)
ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯

================================================================================
  Demo 1: Basic Intent Detection
================================================================================

Testing each intent type:

âœ… Message: "I want to work on sales forecasting"
   Expected: discovery
   Got: discovery (confidence: 1.00)

âœ… Message: "The data quality is 3 stars"
   Expected: assessment
   Got: assessment (confidence: 0.98)

âœ… Message: "What's the bottleneck?"
   Expected: analysis
   Got: analysis (confidence: 1.00)

âœ… Message: "What AI solutions would help?"
   Expected: recommendations
   Got: recommendations (confidence: 1.00)

âœ… Message: "I want to work on a different output"
   Expected: navigation
   Got: navigation (confidence: 1.00)

âœ… Message: "I don't understand"
   Expected: clarification
   Got: clarification (confidence: 1.00)


================================================================================
  Demo 2: Non-Linear Conversation Flow
================================================================================

Simulating a conversation where user jumps around:

Turn 1:
ğŸ“ User: "I want to work on sales forecasting"
ğŸ¯ Intent: discovery

Turn 2:
ğŸ“ User: "What's the bottleneck?"
ğŸ¯ Intent: analysis

Turn 3:
ğŸ“ User: "The data quality is 3 stars"
ğŸ¯ Intent: assessment

Turn 4:
ğŸ“ User: "What AI solutions would help?"
ğŸ¯ Intent: recommendations

Turn 5:
ğŸ“ User: "I want to work on a different output"
ğŸ¯ Intent: navigation

Turn 6:
ğŸ“ User: "Can you explain?"
ğŸ¯ Intent: clarification


================================================================================
  Demo 3: Handling Ambiguous Cases
================================================================================

Testing potentially ambiguous messages:

ğŸ“ User: "I want to assess sales forecasting"
ğŸ¯ Intent: discovery (confidence: 0.78)

ğŸ“ User: "Let's go back"
ğŸ¯ Intent: navigation (confidence: 0.87)

ğŸ“ User: "The team is doing well"
ğŸ¯ Intent: assessment (confidence: 0.67)

ğŸ“ User: "What should we do?"
ğŸ¯ Intent: clarification (confidence: 0.63)


================================================================================
  Demo 4: Confidence Scoring
================================================================================

Comparing confidence scores for clear vs ambiguous messages:

ğŸŸ¢ CLEAR MESSAGES (high confidence):
   "I want to work on sales forecasting"
   â†’ discovery (confidence: 1.00)

   "The data quality is 3 stars"
   â†’ assessment (confidence: 0.98)

   "What's the bottleneck?"
   â†’ analysis (confidence: 1.00)

ğŸŸ¡ AMBIGUOUS MESSAGES (lower confidence):
   "hmm"
   â†’ clarification (confidence: 0.68)

   "okay"
   â†’ clarification (confidence: 0.53)

   "asdfghjkl"
   â†’ clarification (confidence: 0.52)


================================================================================
  Demo 5: Comparison - Old vs New System
================================================================================

OLD SYSTEM (Phase-based routing):
  âŒ User must follow: DISCOVERY â†’ ASSESSMENT â†’ ANALYSIS â†’ RECOMMENDATIONS
  âŒ Cannot jump around
  âŒ Hard-coded phase transitions
  âŒ AssessmentPhase enum

NEW SYSTEM (Intent-based routing):
  âœ… User can jump to any intent at any time
  âœ… Non-linear conversation flow
  âœ… Semantic understanding (not just keywords)
  âœ… Flexible and natural

Example conversation showing the difference:

âœ… Turn 1: "I want to work on sales forecasting" â†’ discovery
âœ… Turn 2: "What's the bottleneck?" â†’ analysis
âœ… Turn 3: "The data quality is 3 stars" â†’ assessment
âœ… Turn 4: "What AI solutions would help?" â†’ recommendations

ğŸ’¡ This non-linear flow would be IMPOSSIBLE with the old phase-based system!

================================================================================
  âœ… Demo Complete!
================================================================================

Key Achievements:
  âœ… Intent detection working with Gemini embeddings
  âœ… Non-linear conversation flow enabled
  âœ… Architectural consistency (single LLM provider)
  âœ… No OpenAI dependencies
  âœ… All 26 tests passing (12 embedding + 14 intent routing)

